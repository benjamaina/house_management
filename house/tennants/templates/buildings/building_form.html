{% extends "base.html" %}

{% block title %}{% if object %}Edit{% else %}Add{% endif %} Building - House Management{% endblock %}

{% block content %}
<div class="breadcrumb">
    <a href="{% url 'dashboard' %}">Dashboard</a>
    <span>/</span>
    <a href="{% url 'building_list' %}">Buildings</a>
    <span>/</span>
    <span>{% if object %}Edit {{ object.building_name }}{% else %}Add Building{% endif %}</span>
</div>

<div class="page-header">
    <h1 class="page-title">{% if object %}Edit <span>{{ object.building_name }}</span>{% else %}Add New <span>Building</span>{% endif %}</h1>
</div>

<div class="card" style="max-width: 600px;">
    <form method="post" novalidate>
        {% csrf_token %}
        
        {% if form.errors %}
        <div class="alert alert-error">
            <strong>Please correct the errors below:</strong>
            <ul style="margin-top: 0.5rem; padding-left: 1.5rem;">
                {% for field in form %}
                    {% for error in field.errors %}
                    <li>{{ field.label }}: {{ error }}</li>
                    {% endfor %}
                {% endfor %}
                {% for error in form.non_field_errors %}
                <li>{{ error }}</li>
                {% endfor %}
            </ul>
        </div>
        {% endif %}

        <div class="form-group">
            <label for="id_building_name" class="form-label">Building Name *</label>
            <input type="text" 
                   name="building_name" 
                   id="id_building_name" 
                   class="form-control" 
                   value="{{ form.building_name.value|default:'' }}"
                   placeholder="e.g., Sunset Apartments"
                   required>
        </div>

        <div class="form-group">
            <label for="id_address" class="form-label">Address *</label>
            <input type="text" 
                   name="address" 
                   id="id_address" 
                   class="form-control" 
                   value="{{ form.address.value|default:'' }}"
                   placeholder="e.g., 123 Main Street, Nairobi"
                   required>
        </div>

        <div class="form-group">
            <label for="id_number_of_houses" class="form-label">Number of Houses *</label>
            <input type="number" 
                   name="number_of_houses" 
                   id="id_number_of_houses" 
                   class="form-control" 
                   value="{{ form.number_of_houses.value|default:'0' }}"
                   min="0"
                   placeholder="Enter total number of units"
                   required>
        </div>

        <div style="display: flex; gap: 1rem; margin-top: 2rem;">
            <button type="submit" class="btn btn-primary">
                {% if object %}Update Building{% else %}Create Building{% endif %}
            </button>
            <a href="{% url 'building_list' %}" class="btn btn-secondary">Cancel</a>
        </div>
    </form>
</div>
{% endblock %}
